---
import Layout from "../../layouts/Layout.astro";
import BlogSection from "../../components/sections/Blog.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const pageTitle = t('blog.title') + " - " + t('blog.description');
const pageDescription = "Stories, adventures, and memorable moments with our beloved American Bully!";
---

<Layout title={pageTitle} description={pageDescription}>
    <header class="blog-header">
        <h1>
            <span class="animated-icon">
                <span class="base-icon">üìÑ</span>
                <span class="pen-icon">‚úçÔ∏è</span>
            </span>
            <span class="highlight">Bucko's</span> Blog
        </h1>
        <p>
            {t('blog.description')}
        </p>
        <div class="hero-paws" aria-hidden="true">
            <span class="paw">üêæ</span>
            <span class="paw">üêæ</span>
            <span class="paw">üêæ</span>
            <span class="paw">üêæ</span>
            <span class="paw">üêæ</span>
        </div>
    </header>

    <main class="blog-main">
        <BlogSection showAll={true} hideHeader={true} />
    </main>
</Layout>

<style>
    .blog-header {
        background: linear-gradient(
            135deg,
            var(--color-primary) 0%,
            var(--color-primary-light) 100%
        );
        color: white;
        padding: var(--spacing-5xl) var(--spacing-lg);
        text-align: center;
        position: relative;
        overflow: hidden;
        border-bottom-left-radius: 60px 30px;
        border-bottom-right-radius: 60px 30px;
    }

    .blog-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        animation: float 20s ease-in-out infinite;
    }

    @keyframes float {
        0%,
        100% {
            transform: translateY(0) rotate(0deg);
        }
        50% {
            transform: translateY(-20px) rotate(180deg);
        }
    }

    .blog-header h1 {
        font-size: clamp(var(--font-size-3xl), 5vw, var(--font-size-5xl));
        margin: 0 0 var(--spacing-md) 0;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        line-height: var(--line-height-tight);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-md);
        position: relative;
        z-index: 2;
    }

    .highlight {
        color: var(--color-accent);
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        display: inline-block;
    }

    .hero-paws {
        position: absolute;
        top: 50%;
        width: 100%;
        display: flex;
        justify-content: space-around;
        opacity: 0.1;
        font-size: var(--font-size-2xl);
        animation: pawFloat 8s ease-in-out infinite;
        pointer-events: none;
    }

    @keyframes pawFloat {
        0%,
        100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-15px);
        }
    }

    .paw:nth-child(2) { animation-delay: -1s; }
    .paw:nth-child(3) { animation-delay: -2s; }
    .paw:nth-child(4) { animation-delay: -3s; }
    .paw:nth-child(5) { animation-delay: -4s; }

    .animated-icon {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 1.5em;
        height: 1.5em;
        flex-shrink: 0;
    }

    .base-icon {
        font-size: 1.2em;
        line-height: 1;
    }

    .pen-icon {
        position: absolute;
        top: -0.2em;
        right: -0.2em;
        font-size: 0.8em;
        animation: writing 2s ease-in-out infinite;
        transform-origin: bottom left;
        pointer-events: none;
        z-index: 2;
    }

    @keyframes writing {
        0%, 100% { transform: translate(0, 0) rotate(0); }
        20% { transform: translate(-4px, 4px) rotate(-15deg); }
        40% { transform: translate(4px, -2px) rotate(10deg); }
        60% { transform: translate(-2px, 4px) rotate(-10deg); }
        80% { transform: translate(2px, -4px) rotate(15deg); }
    }

    .blog-header p {
        font-size: var(--font-size-xl);
        margin: 0;
        opacity: 0.95;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .blog-main {
        max-width: var(--container-xl);
        margin: 0 auto;
        padding: var(--spacing-3xl) var(--spacing-lg);
    }

    @media (max-width: var(--breakpoint-md)) {
        .blog-header {
            padding: var(--spacing-3xl) var(--spacing-md);
        }

        .blog-header h1 {
            font-size: var(--font-size-4xl);
        }

        .blog-header p {
            font-size: var(--font-size-lg);
        }

        .blog-main {
            padding: var(--spacing-2xl) var(--spacing-md);
        }
    }

    @media (max-width: var(--breakpoint-sm)) {
        .blog-header {
            padding: var(--spacing-2xl) var(--spacing-md);
        }

        .blog-header h1 {
            font-size: var(--font-size-3xl);
        }

        .blog-header p {
            font-size: var(--font-size-base);
        }

        .blog-main {
            padding: var(--spacing-xl) var(--spacing-md);
        }
    }
</style>
